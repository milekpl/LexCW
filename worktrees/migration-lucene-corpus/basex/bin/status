#!/usr/bin/env bash
#
# BaseX Status Script
#
set -e

SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
BASEX_DIR="$(dirname "$SCRIPT_DIR")"
PID_FILE="$BASEX_DIR/.pid"

if [ -f "$PID_FILE" ]; then
    pid=$(cat "$PID_FILE")
    if kill -0 "$pid" 2>/dev/null; then
        echo "BaseX is running (PID: $pid)"
        exit 0
    fi
fi

echo "BaseX is not running"
exit 1
