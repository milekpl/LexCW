{
  "template_id": "basic",
  "name": "Basic Validation",
  "description": "Essential validation rules for general dictionary work. Minimum required fields are validated.",
  "category": "basic",
  "version": "1.0",
  "rules": [
    {
      "rule_id": "R1.1.1",
      "name": "entry_id_required",
      "description": "Entry ID is required and must be non-empty",
      "category": "entry_level",
      "priority": "critical",
      "path": "$.id",
      "condition": {
        "type": "required"
      },
      "validation": {
        "type": "string",
        "minLength": 1
      },
      "error_message": "Entry ID is required and must be non-empty"
    },
    {
      "rule_id": "R1.1.2",
      "name": "lexical_unit_required",
      "description": "Lexical unit is required and must contain at least one language entry",
      "category": "entry_level",
      "priority": "critical",
      "path": "$.lexical_unit",
      "condition": {
        "type": "required"
      },
      "validation": {
        "type": "object",
        "minProperties": 1
      },
      "error_message": "Lexical unit is required and must contain at least one language entry"
    },
    {
      "rule_id": "R1.1.3",
      "name": "sense_required_non_variant",
      "description": "At least one sense is required per entry (except for variant entries)",
      "category": "entry_level",
      "priority": "critical",
      "path": "$.senses",
      "condition": {
        "type": "conditional",
        "when": {
          "not": {
            "path": "$.relations[*]",
            "contains": {
              "field": "type",
              "value": "_component-lexeme"
            }
          }
        }
      },
      "validation": {
        "type": "array",
        "minItems": 1
      },
      "error_message": "At least one sense is required per entry",
      "validation_mode": "save_only"
    },
    {
      "rule_id": "R2.1.1",
      "name": "sense_id_required",
      "description": "Sense ID is required and must be non-empty",
      "category": "sense_level",
      "priority": "critical",
      "path": "$.senses[*].id",
      "condition": {
        "type": "required"
      },
      "validation": {
        "type": "string",
        "minLength": 1
      },
      "error_message": "Sense ID is required and must be non-empty"
    },
    {
      "rule_id": "R2.1.2",
      "name": "sense_content_or_variant",
      "description": "Sense must have definition, gloss, or variant reference",
      "category": "sense_level",
      "priority": "critical",
      "path": "$.senses[*]",
      "condition": {
        "type": "custom"
      },
      "validation": {
        "type": "custom",
        "custom_function": "validate_sense_content_or_variant"
      },
      "error_message": "Sense must have definition, gloss, or be a variant reference"
    },
    {
      "rule_id": "R8.1.1",
      "name": "no_circular_component_references",
      "description": "Component relations must not reference the entry itself",
      "category": "relation_validation",
      "priority": "critical",
      "path": "$.relations[*]",
      "condition": {
        "type": "custom"
      },
      "validation": {
        "type": "custom",
        "custom_function": "validate_no_circular_components"
      },
      "error_message": "Component relation cannot reference the entry itself (circular reference)"
    }
  ]
}
